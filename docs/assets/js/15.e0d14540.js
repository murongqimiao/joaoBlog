(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{419:function(n,t,e){"use strict";e.r(t);var a=e(56),s=Object(a.a)({},(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"初始环境构建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初始环境构建"}},[n._v("#")]),n._v(" 初始环境构建")]),n._v(" "),e("p",[n._v("因为不用框架, 基于canvas和原生js实现0-1, 因此只需要node环境,npm init一个空项目, 新建一个index.html和 index.js就可以上路了。")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("npm init\n")])])]),e("p",[n._v("目录结构")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("  | -- package.json\n  | -- webpack.config.js\n  | \n  | -- src\n     | --  index.js\n     | --  index.html\n")])])]),e("p",[n._v("平级目录新建一个webpack.config.js作为webpack的配置, 我们要用webpack打包及开发辅助,热更新还是方便些")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("const path = require('path')\nconst CopyWebpackPlugin = require('copy-webpack-plugin');\n\nmodule.exports = {\n    mode: 'development',\n    entry: path.resolve('./src/'),\n    output: {\n        path: path.resolve('./dist'),\n        filename: 'index.js',\n        pathinfo: true\n    },\n    module: { // 静态资源引入图片 加上webpack url-loader解释器\n        rules: [{\n            test: /.(jpg|png)$/,\n            use: {\n              loader: 'url-loader',\n              options: {\n                limit: 1,\n              }\n            }\n        }, {\n          test: /.list$/,\n          use: ['xml-loader']\n        }],\n    },\n    plugins: [\n        new CopyWebpackPlugin({\n            patterns: [{\n                from: \"./src/index.html\", to: \"./index.html\"\n            }, {\n                from: \"./src/assets\", to: \"./assets\"\n            }]\n        })\n    ]\n};\n")])])]),e("p",[n._v("上面的xml-loader跟url-loader都可以不用的, 这是之前开发过程中, 用到了xml格式的配置文件, 减少图片base64在主包js的体积。可以把rules删掉。")]),n._v(" "),e("hr"),n._v(" "),e("p",[n._v("index.html中的内容")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>test</title>\n    <script src="./index.js"><\/script>\n    <style>\n        #canvas {\n            margin-bottom: 200px;\n            background-image: linear-gradient(0deg,transparent 24%,hsla(0,0%,100%,.05) 25%,hsla(0,0%,100%,.05) 26%,transparent 27%,transparent 74%,hsla(0,0%,100%,.05) 75%,hsla(0,0%,100%,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,hsla(0,0%,100%,.05) 25%,hsla(0,0%,100%,.05) 26%,transparent 27%,transparent 74%,hsla(0,0%,100%,.05) 75%,hsla(0,0%,100%,.05) 76%,transparent 77%,transparent);\n            background-size: 50px 50px;\n            background-color: #3c3c3c!important;\n        }\n        #load-status {\n            position: fixed;\n            text-align: center;\n            top: 45vh;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            color: #fff;\n        }\n    </style>\n</head>\n\n<body>\n    <h3>GUIDE</h3>\n    <p>Press JKLI for move, D for attack, S for skill</p>\n    <canvas id="canvas" width="1024" height="600"></canvas>\n    <div id="load-status"></div>\n    <button id="reset-monster">Reset monster</button>\n</body>\n<script>\n\n<\/script>\n\n</html>\n')])])]),e("p",[n._v("到这里环境就准备完了,\n就一个webpack空项目这么简单,\n现在我们搞一个npm指令来启动他")]),n._v(" "),e("p",[n._v("package.json中添加")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('  "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1",\n    "start": "webpack --watch",\n    "build": "webpack --mode=production"\n  },\n')])])]),e("p",[n._v("执行npm start\n新窗口中会有一个空白的canvas, 这就是全部准备。")])])}),[],!1,null,null,null);t.default=s.exports}}]);